<div class="post">
  <div class="profile-container">
    <img class="profile" alt="profile-img" [src]="post.user.profilePicUrl" />
    <div
      style="
        display: flex;
        justify-content: space-between;
        width: 100%;
        align-items: start;
      "
    >
      <div>
        <p>{{ post.user.name }}</p>
        <p style="font-size: 14px">{{ post.user.email }}</p>
      </div>
      <p>{{ post.date | amTimeAgo }}</p>
    </div>
  </div>

  <div
    style="
      background-color: grey;
      height: 0.5px;
      margin-top: 6px;
      margin-bottom: 6px;
    "
  ></div>

  <p class="title">
    {{ post.title }}
  </p>

  <p class="content">
    {{ post.content }}
  </p>

  <div
    style="display: flex; flex-direction: row; justify-content: space-between"
  >
    <div class="like-container">
      @if(!isLiked){
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="26px"
        viewBox="0 -960 960 960"
        width="26px"
        fill="#1f1f1f"
        (click)="like()"
        style="cursor: pointer"
      >
        <path
          d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Zm0-108q96-86 158-147.5t98-107q36-45.5 50-81t14-70.5q0-60-40-100t-100-40q-47 0-87 26.5T518-680h-76q-15-41-55-67.5T300-774q-60 0-100 40t-40 100q0 35 14 70.5t50 81q36 45.5 98 107T480-228Zm0-273Z"
        />
      </svg>
      }@else {<svg
        xmlns="http://www.w3.org/2000/svg"
        height="26px"
        viewBox="0 -960 960 960"
        width="26px"
        fill="#1f1f1f"
        (click)="like()"
        style="cursor: pointer"
      >
        <path
          d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Z"
        /></svg
      >}
      <p>
        <span style="font-weight: bold">{{ post.likes.length }}</span> likes
      </p>
    </div>
  </div>
  @if(isAuthor){
    <div class="controls">
      <button (click)="editPost(post)">Edit</button>
      <button (click)="deletePost(post._id)">Delete</button>
    </div>
  }
</div>
